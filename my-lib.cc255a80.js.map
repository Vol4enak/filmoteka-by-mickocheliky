{"mappings":"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","sources":["src/my-lib.js","src/js/lib-js/modal-lib.js","src/js/lib-js/render-lib.js"],"sourcesContent":["import './popularMovies';\nimport './js/lib-js/modal-lib';\n\nimport './js/body-logic/colorTheme';\nimport './js/body-logic/sortByTags';\nimport './js/body-logic/scrollToTop';\n","import '../body-logic/modal-win/modal';\nimport '../body-logic/modal-win/modal-btn';\nimport '../lib-js/render-lib';\n","import {\n  arrIdCardForWatched,\n  arrIdCardForQueue,\n} from '../body-logic/modal-win/modal-btn';\nimport { getFetchedById } from '../../fetch_api';\n// import { renderModalInformation } from '../../../popularMovies';\nconst ulEl = document.querySelector('.film-list-home');\nconst btnLibWatched = document.querySelector('.header-list--lib__btn-watched');\nconst btnLibQueue = document.querySelector('.header-list--lib__btn-queue');\nconst clearModal = document.querySelector('.clearing-modal');\nconst body = document.querySelector('body');\nconst modalBtn = document.querySelector('.btn-close');\nconst modal = document.querySelector('.modal');\n\nbtnLibWatched.addEventListener('click', LibCardrenderWatch);\nbtnLibQueue.addEventListener('click', LibCardrenderQueue);\nulEl.addEventListener('click', openModal);\n\nexport function openModal(e) {\n  const query = e.target.nodeName;\n  if (query === 'IMG' || query === 'P' || query === 'SPAN') {\n    modal.addEventListener('click', onBtnClick);\n    modalBtn.addEventListener('click', onClose);\n  }\n}\n\nLibCardrenderWatch();\nlet a = 0;\nlet b = 0;\nfunction onBtnClick(e) {\n  const query = e.target.nodeName;\n  const queryClass = e.target.className;\n  const dataId = e.target.dataset.action;\n\n  if (query === 'BUTTON' && dataId === 'watched') {\n    a += 1;\n  }\n  if (query === 'BUTTON' && dataId === 'queue') {\n    b += 1;\n  }\n\n  if (queryClass === 'overlay') {\n    onClose();\n    if (a % 2 === 1) {\n      LibCardrenderWatch();\n    }\n    if (b % 2 === 1) {\n      LibCardrenderQueue();\n    }\n    a = 0;\n    b = 0;\n  }\n}\n\nfunction onClose() {\n  clearModal.innerHTML = '';\n  modal.classList.add('visibility');\n  body.style.overflow = 'visible';\n  modal.removeEventListener('click', onBtnClick);\n}\n\nfunction LibCardrenderWatch() {\n  stylesForWatched();\n  ulEl.innerHTML = '';\n  arrIdCardForWatched.map(id => {\n    getFetchedById(id).then(res => {\n      let { poster_path, original_title, id, release_date } = res;\n      let imgPreview = 'https://image.tmdb.org/t/p/w500';\n      if (!poster_path) {\n        poster_path = '/wp-content/uploads/2022/05/coming-soon.jpg';\n        imgPreview = 'https://en9lish.com';\n      }\n      if (!release_date) {\n        release_date = 'N/A';\n      }\n\n      let genres = res.genres.map(res => res.name);\n      if (genres.length === 0) {\n        genres.push('N/A');\n      }\n\n      if (genres.length > 3) {\n        genres = genres.slice(0, 2) + ', other';\n      }\n      genres = genres.toString().replaceAll(',', ', ');\n      const render = `<li class=\"film-item\" >\n            <img class=\"film-img\" src=\"${imgPreview}${poster_path}\" alt=\"123\" width=\"336\" height=\"455\" data-action=\"${id}\" >\n            <ul class=\"info-list\"data-action=\"${id}\">\n              <li>\n              <p class=\"film-name\"data-action=\"${id}\">${original_title}</p>\n              </li>\n              <li>\n            <p class=\"film-tag\" data-action=\"${id}\">${genres} | ${release_date.slice(\n        0,\n        4\n      )}</p></li>\n          </ul>\n                      </li>`;\n\n      return ulEl.insertAdjacentHTML('beforeend', render);\n    });\n  });\n}\n\nfunction LibCardrenderQueue() {\n  stylesForQueue();\n  ulEl.innerHTML = '';\n  arrIdCardForQueue.map(id => {\n    getFetchedById(id).then(res => {\n      let { poster_path, original_title, id, release_date } = res;\n      let imgPreview = 'https://image.tmdb.org/t/p/w500';\n      if (!poster_path) {\n        poster_path = '/wp-content/uploads/2022/05/coming-soon.jpg';\n        imgPreview = 'https://en9lish.com';\n      }\n      if (!release_date) {\n        release_date = 'N/A';\n      }\n\n      let genres = res.genres.map(res => res.name);\n      if (genres.length === 0) {\n        genres.push('N/A');\n      }\n\n      if (genres.length > 3) {\n        genres = genres.slice(0, 2) + ', other';\n      }\n      genres = genres.toString().replaceAll(',', ', ');\n      const render = `<li class=\"film-item\" >\n            <img class=\"film-img\" src=\"${imgPreview}${poster_path}\" alt=\"123\" width=\"336\" height=\"455\" data-action=\"${id}\" >\n            <ul class=\"info-list\"data-action=\"${id}\">\n              <li>\n              <p class=\"film-name\"data-action=\"${id}\">${original_title}</p>\n              </li>\n              <li>\n            <p class=\"film-tag\" data-action=\"${id}\">${genres} | ${release_date.slice(\n        0,\n        4\n      )}</p></li>\n          </ul>\n                      </li>`;\n\n      return ulEl.insertAdjacentHTML('beforeend', render);\n    });\n  });\n}\n\nfunction stylesForWatched() {\n  btnLibQueue.style.backgroundColor = 'transparent';\n  btnLibQueue.style.border = '1px solid white';\n  btnLibWatched.style.backgroundColor = 'rgba(255, 107, 8, 1)';\n  btnLibWatched.style.border = '1px solid rgba(255, 107, 8, 1)';\n}\n\nfunction stylesForQueue() {\n  btnLibWatched.style.backgroundColor = 'transparent';\n  btnLibWatched.style.border = '1px solid white';\n  btnLibQueue.style.backgroundColor = 'rgba(255, 107, 8, 1)';\n  btnLibQueue.style.border = '1px solid rgba(255, 107, 8, 1)';\n}\n"],"names":["parcelRequire","$8pdLi","$389d49a43cc389e1$var$ulEl","document","querySelector","$389d49a43cc389e1$var$btnLibWatched","$389d49a43cc389e1$var$btnLibQueue","$389d49a43cc389e1$var$clearModal","$389d49a43cc389e1$var$body","$389d49a43cc389e1$var$modalBtn","$389d49a43cc389e1$var$modal","addEventListener","$389d49a43cc389e1$var$LibCardrenderWatch","$389d49a43cc389e1$var$LibCardrenderQueue","e","query","target","nodeName","$389d49a43cc389e1$var$onBtnClick","$389d49a43cc389e1$var$onClose","$389d49a43cc389e1$var$a","$389d49a43cc389e1$var$b","queryClass","className","dataId","dataset","action","innerHTML","classList","add","style","overflow","removeEventListener","backgroundColor","border","arrIdCardForWatched","map","id","$iXPk2","getFetchedById","then","res1","poster_path","original_title","_$id","release_date","imgPreview","genres","res","name","length","push","slice","toString","replaceAll","render","concat","insertAdjacentHTML","arrIdCardForQueue","res2"],"version":3,"file":"my-lib.cc255a80.js.map"}