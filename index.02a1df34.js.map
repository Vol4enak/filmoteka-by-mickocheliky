{"mappings":"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","sources":["src/fetch_api.js","src/js/body-logic/modal-win/modal.js","src/js/body-logic/render-cards.js","src/js/body-logic/modal-win/modal-btn.js"],"sourcesContent":["const FETCH_HTTP = 'https://api.themoviedb.org/3';\nconst API_KEYS = 'bcde96d2248e63a51f520e697b2ad108';\n\nexport class PopularMovieFromServer {\n  constructor() {\n    this.currentPage = 1;\n    this.searchQuery = '';\n  }\n\n  getPopularMovieFromServer() {\n    const API_KEY = '197007a676a4d3e84c6bdb6f21b18a1a';\n    return fetch(\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}&page=${this.page}`\n    ).then(response => response.json());\n  }\n\n  getSubmitMovieFromServer() {\n    const API_KEY = '197007a676a4d3e84c6bdb6f21b18a1a';\n    return fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&page=${this.page}&query=${this.searchQuery}&include_adult=false`\n    ).then(response => response.json());\n  }\n\n  get page() {\n    return this.currentPage;\n  }\n\n  set page(pageNumber) {\n    this.currentPage = pageNumber;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\nexport async function getFetchedById(id) {\n  \n  id = id.toString()\n  const getFetch = await fetch(\n    `${FETCH_HTTP}/movie/${id}?api_key=${API_KEYS}&language=en-US`\n  );\n  const card = await getFetch.json();\n\n  return card;\n}\n","import { renderModalInformation } from '../render-cards';\nimport { getFetchedById } from '../../../fetch_api';\n// import '../../lib-js/render-lib';\n\nimport {\n  btnWatched,\n  btnQueue,\n  arrIdCardForWatched,\n  arrIdCardForQueue,\n} from './modal-btn';\nconst ulEl = document.querySelector('.film-list-home');\nconst modal = document.querySelector('.modal');\nconst clearModal = document.querySelector('.clearing-modal');\nconst modalBtn = document.querySelector('.btn-close');\nconst body = document.querySelector('body');\nconst modalWin = document.querySelector('.modal-window');\n\nulEl.addEventListener('click', openModal);\n\nexport function openModal(e) {\n  const query = e.target.nodeName;\n  const dataId = e.target.dataset.action;\n  setIdFromLocalStorage(dataId);\n  modalWin.style.opacity = '1';\n  if (query === 'IMG' || query === 'P' || query === 'SPAN') {\n    getFetchedById(dataId).then(res => {\n      renderModalInformation(res);\n    });\n    modal.addEventListener('click', onBtnClick);\n    modal.classList.remove('visibility');\n    body.style.overflow = 'hidden';\n    modalBtn.addEventListener('click', onClose);\n  }\n}\n\nexport function onClose() {\n  clearModal.innerHTML = '';\n  modal.classList.add('visibility');\n  body.style.overflow = 'visible';\n  modalWin.style.opacity = '0';\n  modal.removeEventListener('click', onBtnClick);\n  localStorage.setItem('data-watched', JSON.stringify(arrIdCardForWatched));\n  localStorage.setItem('data-queue', JSON.stringify(arrIdCardForQueue));\n}\n\nexport function onBtnClick(e) {\n  const query = e.target.nodeName;\n  const queryClass = e.target.className;\n  const dataId = e.target.dataset.action;\n  const queryText = e.target.textContent;\n\n  const modalQueue = document.querySelector('.modal-btn__queue');\n  const modalWatched = document.querySelector('.modal-btn__watched');\n  if (queryClass === 'overlay') {\n    onClose();\n  }\n  if (query === 'BUTTON' && dataId === 'watched') {\n    btnWatched(modalWatched, queryText);\n  }\n  if (query === 'BUTTON' && dataId === 'queue') {\n    btnQueue(modalQueue, queryText);\n  }\n}\n\nfunction setIdFromLocalStorage(data) {\n  localStorage.setItem('data', data);\n}\n","import { getFetchedById } from '../../fetch_api';\nconst modalBox = document.querySelector('.clearing-modal');\nexport function renderModalInformation(name) {\n  let {\n    poster_path,\n    original_title,\n    id,\n    release_date,\n    vote_average,\n    vote_count,\n    popularity,\n    overview,\n  } = name;\n  let imgPreview = 'https://image.tmdb.org/t/p/w500';\n  if (!poster_path) {\n    poster_path = '/wp-content/uploads/2022/05/coming-soon.jpg';\n    imgPreview = 'https://en9lish.com';\n  }\n  if (!release_date) {\n    release_date = 'N/A';\n  }\n\n  getFetchedById(id).then(res => {\n    let genres = res.genres.map(res => res.name);\n    if (genres.length === 0) {\n      genres.push('N/A');\n    }\n    genres = genres.slice(0, 1);\n\n    const render = ` \n   \n     <div class=\"modal-box-img\"><img  src=\"${imgPreview}${poster_path}\" alt=\"123\" class=\"modal-img\" ></div>\n      <div class=\"modal-info\"> <h2 class=\"mobal__title\">${original_title}</h2>\n                <div class=\"helper-in-modal\">\n                    <ul class=\"mobal__list--description\">\n                        <li class=\"mobal-list__item\">\n                            <p class=\"mobal-item__text\">Vote / Votes</p>\n                        </li>\n                        <li class=\"mobal-list__item\">\n                            <p class=\"mobal-item__text\"> <span class=\"module__text-popularity\">Popularity</span> </p>\n                        </li>\n                        <li class=\"mobal-list__item\">\n                            <p class=\"mobal-item__text\">Original Title</p>\n                        </li>\n                        <li class=\"mobal-list__item\">\n                            <p class=\"mobal-item__text\">Genre</p>\n                        </li>\n                    </ul>\n                    <ul class=\"mobal__list--info\">\n                        <li class=\"mobal-list__item\">\n                            <p class=\"mobal-item__text\"><span class=\"module__text-vote\">${vote_average}</span> /\n                                <span class=\"module__text-votes\">${vote_count}</span>\n                            </p>\n                        </li>\n                        <li class=\"mobal-list__item\">\n                            <p class=\"mobal-item__text\">${popularity}</p>\n                        </li>\n                        <li class=\"mobal-list__item\">\n                            <p class=\"mobal-item__text\">${original_title}</p>\n                        </li>\n                        <li class=\"mobal-list__item\">\n                            <p class=\"mobal-item__text\">${genres}</p>\n                        </li>\n                    </ul>\n                </div>\n                <p class=\"mobal__title--about\">About</p>\n                <p class=\"mobal__title--about-text\">${overview}</p>\n                ${zxc(id)}</div>\n     \n               `;\n\n    return modalBox.insertAdjacentHTML('beforeend', render);\n  });\n}\n\nfunction zxc(id) {\n  const btnName = id.toString();\n\n  let watchBtn = '';\n  let queueBtn = '';\n  const getItemWatched = localStorage.getItem('data-watched');\n  const parseItemWatched = JSON.parse(getItemWatched);\n\n  const getItemQueue = localStorage.getItem('data-queue');\n  const parseItemQueue = JSON.parse(getItemQueue);\n\n  if (parseItemWatched.includes(btnName)) {\n    watchBtn = 'remove from Watched';\n  } else {\n    watchBtn = 'add to Watched';\n  }\n  if (parseItemQueue.includes(btnName)) {\n    queueBtn = 'remove from queue';\n  } else {\n    queueBtn = 'add to queue';\n  }\n\n  return `<ul class=\"modal-btn__list\">\n                    <li class=\"modal-btn__item\">\n                        <button type=\"button\" class=\"modal-btn__watched \" data-action=\"watched\" >${watchBtn}</button>\n                    </li>\n                    <li class=\"modal-btn__item\">\n                        <button type=\"button\" class=\"modal-btn__queue \" data-action=\"queue\" >${queueBtn}</button>\n                    </li>\n                </ul>`;\n}\n","// import { showWatchedFilms ,showWQueueFilms} from '../../lib-js/render-lib';\n// import { getFetchedById } from \"../../../fetch_api\";\n// import {renderModalInformation} from \"../../popularMovies\"\nconst resFromWatch = getIlocaltemWatchedme();\nconst resFromQueue = getlocalItemQueue();\n\nexport let arrIdCardForWatched = [];\nexport let arrIdCardForQueue = [];\nif (resFromWatch) {\n  arrIdCardForWatched = resFromWatch;\n}\nif (resFromQueue) {\n  arrIdCardForQueue = resFromQueue;\n}\n\nexport function btnWatched(modalWatched, queryText) {\n  let idCard = localStorage.getItem('data');\n  if (queryText === 'remove from Watched') {\n    if (arrIdCardForWatched.length === 1) {\n      arrIdCardForWatched = [];\n      modalWatched.textContent = 'add to Watched';\n      return;\n    }\n    for (let i = 0; i < resFromWatch.length; i++) {\n      if (resFromWatch[i] === idCard) {\n        resFromWatch.splice(i, 1);\n        modalWatched.textContent = 'Add to Watched';\n      }\n    }\n    return;\n  }\n  modalWatched.textContent = 'remove from Watched';\n  modalWatched.style.padding = '6px';\n  arrIdCardForWatched.push(idCard);\n}\n\nexport function btnQueue(modalQueue, queryText) {\n  let idCard = localStorage.getItem('data');\n\n  if (queryText === 'remove from queue') {\n    if (arrIdCardForQueue.length === 1) {\n      arrIdCardForQueue = [];\n      modalQueue.textContent = 'add to queue';\n      modalQueue.style.paddingRight = '16px';\n      modalQueue.style.paddingLeft = '16px';\n      return;\n    }\n    for (let i = 0; i < resFromQueue.length; i++) {\n      if (resFromQueue[i] === idCard) {\n        resFromQueue.splice(i, 1);\n        modalQueue.textContent = 'Add to queue';\n      }\n    }\n\n    return;\n  }\n  modalQueue.textContent = 'remove from queue';\n  modalQueue.style.padding = '6px';\n  arrIdCardForQueue.push(idCard);\n}\n\nfunction getIlocaltemWatchedme() {\n  let getItemWatched = localStorage.getItem('data-watched');\n  let parseItemWatched = JSON.parse(getItemWatched);\n  return parseItemWatched;\n}\nfunction getlocalItemQueue() {\n  let getItemQueue = localStorage.getItem('data-queue');\n  let parseItemQueue = JSON.parse(getItemQueue);\n  return parseItemQueue;\n}\n"],"names":["$c0514b1e26bae9f5$export$7beeff4fe592f6ad","getPopularMovieFromServer","fetch","this","page","then","response","json","getSubmitMovieFromServer","searchQuery","currentPage","pageNumber","query","newQuery","constructor","async","$c0514b1e26bae9f5$export$82d22d20aa70005b","id","toString","getFetch","$iktQL","parcelRequire","$786497425f066802$var$ulEl","document","querySelector","$786497425f066802$var$modal","$786497425f066802$var$clearModal","$786497425f066802$var$modalBtn","$786497425f066802$var$body","$786497425f066802$var$modalWin","$786497425f066802$export$f312d3bc7ef841a8","innerHTML","classList","add","style","overflow","opacity","removeEventListener","$786497425f066802$export$85806c12118d2fc","localStorage","setItem","JSON","stringify","$cLZ64","arrIdCardForWatched","arrIdCardForQueue","e","target","nodeName","queryClass","className","dataId","dataset","action","queryText","textContent","modalQueue","modalWatched","btnWatched","btnQueue","addEventListener","data","$gvHvN","getFetchedById","res","renderModalInformation","remove","$d5813fdadbf06417$var$modalBox","$d5813fdadbf06417$export$1ff5888c72cefb7","name","poster_path","original_title","release_date","vote_average","vote_count","popularity","overview","imgPreview","res1","genres","map","length","push","slice","render","btnName","watchBtn","queueBtn","getItemWatched","getItem","parseItemWatched","parse","getItemQueue","parseItemQueue","includes","$d5813fdadbf06417$var$zxc","insertAdjacentHTML","$94c94464a201f257$var$resFromWatch","$94c94464a201f257$var$getIlocaltemWatchedme","$94c94464a201f257$var$resFromQueue","$94c94464a201f257$var$getlocalItemQueue","$94c94464a201f257$export$23e900ee498c1b2c","$94c94464a201f257$export$86082b867c728d13","$94c94464a201f257$export$b2cc59b4aaabff1b","idCard","padding","i","splice","$94c94464a201f257$export$15242a18a6e9df39","paddingRight","paddingLeft"],"version":3,"file":"index.02a1df34.js.map"}